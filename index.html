<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ğŸ—ºï¸ğŸ¦®ìš°ë¦¬ê°•ì§€ - ìš°ë¦¬ì˜ ê°•ì„œêµ¬ ì§€ë„ğŸ˜˜</title>
    
    <!-- ë¡œë“œë·° ê´€ë ¨ CSS -->
    <style>
        #container {overflow:hidden;height:78vh;position:relative;}
        #mapWrapper {width:100%;height:78vh;z-index:1;}
        #rvWrapper {width:50%;height:78vh;top:0;right:0;position:absolute;z-index:0;}
        #container.view_roadview #mapWrapper {width: 50%;}
        #roadviewControl {position:absolute;top:5px;right:5px;width:42px;height:42px;z-index: 1;cursor: pointer; background: url(https://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/img_search.png) 0 -450px no-repeat;}
        #roadviewControl.active {background-position:0 -350px;}
        #close {position: absolute;padding: 4px;top: 8px;left: 8px;cursor: pointer;background: #fff;border-radius: 4px;border: 1px solid #c8c8c8;box-shadow: 0px 1px #888;}
        #close .img {display: block;background: url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/rv_close.png) no-repeat;width: 14px;height: 14px;}
   </style>
   <!-- í˜ì´ì§€ ë””ìì¸ -->
   <style>
        /* í°íŠ¸ì„¤ì • */
        @import url("https://fonts.googleapis.com/css2?family=Jua&display=swap");
        body {
            font-family: "Jua", sans-serif;
            /* display: flex; */
        }

        /* ì²´í¬ë°•ìŠ¤ 1.5ë°° í‚¤ìš°ê¸° */
        input[type=checkbox] {
            zoom: 1.5;
        }
        /* ë² ì´ì§€ ë°•ìŠ¤ ë””ìì¸ */
        .select_map {
            padding-top: 1px;
            padding-bottom: 1px;
            background-color: beige;
            text-align: center;
        }

        /* ë² ì´ì§€ ë°•ìŠ¤ ê¸€ì”¨í¬ê¸°  */
        .select_text {
            font-size: 20px;
        }

        /* ë™ê·¸ë¼ë¯¸ ì§€ìš°ê¸° ë²„íŠ¼ */
        h3 > button {
            margin-left: 30px;
            font-size: 15px;
            padding: 10px;
            background-color: darkslategray;
            color:blanchedalmond;
        }
        
        /* í•˜ë‹¨ ì•ˆë‚´ë¬¸ ê¸€ì”¨í¬ê¸° */
        .info_text {
            margin-top: 10px;
            margin-bottom: 15px;
            font-size: 20px;    
            color: green;
            text-align: center;
        }

        /* ì¢Œì¸¡ìƒë‹¨ ì¹´í…Œê³ ë¦¬ ë°•ìŠ¤ */
        .category {
            height:fit-content; width:fit-content;  background-color:#FFFFF0;  
            padding-right: 15px;
            padding-left: 15px;
            font-size: 16px;
            position:absolute;
            top: 15px;
            left: 15px;
            z-index:2;
        }

        /* ìš°ì¸¡ ìƒë‹¨ì˜ êµ¬ë¯¼, ê³µë¬´ì› ê´€ì‹¬ì§€ì—­  */
        .voice {
            height:fit-content; width:fit-content;  background-color:#EBF9F7;  
            font-size: 16px;
            padding-right: 15px;
            padding-left: 15px;
            position:absolute;
            top: 15px;
            left: 140px;
            z-index:2;
        }

        /* CCTV ì»¤ì„œëŒ€ë©´ ëœ¨ëŠ” ë©”ì„¸ì§€ ë””ìì¸*/
        .info {
            position: relative;
            top: 5px;
            left: 5px;
            border-radius: 6px;
            border: 1px solid #ccc;
            border-bottom: 2px solid #ddd;
            font-size: 12px;
            padding: 5px;
            background: #fff;
            list-style: none;
            margin: 0;
        }
        .info:nth-of-type(n) {
            border: 0;
            box-shadow: 0px 1px 2px #888;
        }

        /* ë°˜ê²½ í‘œì‹œ ë°•ìŠ¤ ë° ìˆ«ìí…ìŠ¤íŠ¸ ë””ìì¸  */
        .info .label {
            display: inline-block;
            width: 50px;
        }
        .number {
            font-weight: bold;
            color: #00a0e9;
        }
        
        /* ì œì•ˆê²Œì‹œíŒ ì´ë™ div ë””ìì¸ */
        .propose {
            padding: 10px 20px 10px 20px; 
        }

        .minwon {
            padding: 5px 15px 5px 15px; 
            font-size: 15px;
            text-align: center;
        }

        .select_a {
            text-decoration: none;
            color: blanchedalmond;
        }
        
        .button1 {
            margin-right: 20px;
        }
    </style>
</head>

<body>
    <!-- ì¹´ì¹´ì˜¤ ê´€ë ¨ ì½”ë“œì‹œì‘. csvíŒŒì¼ì— ë‚˜ì™€ìˆëŠ” ë°ë¡œ, ë§ˆì»¤ë¥¼ ì°ì„ ê²ë‹ˆë‹¤ -->
    <script type="text/javascript"
    src="//dapi.kakao.com/v2/maps/sdk.js?appkey=05326a991fe3d933dbe3ad816698492c&libraries=services&libraries=clusterer"></script>

    <!-- d3ë¥¼ ì„í¬íŠ¸í•´ì„œ csvíŒŒì¼ì„ ì½ì„ ê²ë‹ˆë‹¤. -->
    <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
    <script>
        // d3ì—ì„œ encoding í•˜ëŠ” ë²•ì„ ëª» ì°¾ì•„ì„œ,
        // csvíŒŒì¼ ìì²´ë¥¼ ê·¸ëƒ¥ utf8ë¡œ encodingí•´ ì£¼ì—ˆìŠµë‹ˆë‹¤.
        var latlongdata
        var loadDsv = d3.dsv(",", "utf-8");
        loadDsv("./data/seoulsiru_utf8.csv", function (data) {
            latlongdata = data
            console.log(data[0])
        });
    </script>

    <!-- ë¡œë“œë·° ì»¨í…Œì´ë„ˆ -->
    <div id="container">
        <div id="rvWrapper">
            <div id="roadview" style="width:100%;height:78vh;"></div> <!-- ë¡œë“œë·°ë¥¼ í‘œì‹œí•  div ì…ë‹ˆë‹¤ -->
            <div id="close" title="ë¡œë“œë·°ë‹«ê¸°" onclick="closeRoadview()"><span class="img"></span></div>
        </div>
        <div id="mapWrapper">
            <div id="map" style="width:100%;height:100%"></div>
                <!-- ì§€ë„ë¥¼ í‘œì‹œí•  div ì…ë‹ˆë‹¤ -->
            <div id="roadviewControl" onclick="setRoadviewRoad()"></div>
        </div>
    </div>

   <!-- í´ë¦­í•˜ë©´ ìœ„ë„ê²½ë„ íšë“ ID (ìœ„ì¹˜ì„¤ì •) -->
   <div id="clickLatlng"></div>

    <!-- ë² ì´ì§€ ë°•ìŠ¤ -->
    <div class="select_map">
    <h3 class="select_text">
        <button class="button1" onclick="removeCircles()"><a target="_blank" class="select_a" href = "http://slopemap.gangseo.seoul.kr/slopeMap/citizen.do" >ì¦ê²¨ì°¾ê¸°(í‘œì‹œë³€ê²½)</a></button>
        <input type="checkbox" id="chkTerrain" onclick="setOverlayMapTypeId()" /> ì§€í˜•ì •ë³´ ë³´ê¸°
        <input type="checkbox" id="chkUseDistrict" onclick="setOverlayMapTypeId()" /> ì§€ì í¸ì§‘ë„ ì •ë³´ ë³´ê¸° 
        <input type="checkbox" id="chkTraffic" onclick="setOverlayMapTypeId()" /> êµí†µì •ë³´ ë³´ê¸°       
        <input type="checkbox" id="chkBicycle" onclick="setOverlayMapTypeId()" /> ìì „ê±°ë„ë¡œ ì •ë³´ ë³´ê¸°
        <button onclick="removeCircles()">ë™ê·¸ë¼ë¯¸ ì§€ìš°ê¸°</button>
    </h3>
    </div>
    
<div class="category">
    <h4>
        <input 
        type='checkbox'
        name='cctv'
        value='cctv'
        checked="on"
        onclick="cctvButtonClick()"/>
        CCTV
    </h4>
    <h4>
        <input 
        type='checkbox'
        name='gs25'
        value='gs25'
        checked="on"
        onclick="gs25ButtonClick()"/>
        ê³µì‚¬í˜„ì¥
    </h4>
    <h4>
        <input 
        type='checkbox'
        name='gs25'
        value='gs25'
        checked="on"
        onclick="gs25ButtonClick()"/>
        ê³µì›
    </h4>
    <h4>
        <input 
        type='checkbox'
        name='gs25'
        checked="on"
        onclick="gs25ButtonClick()"/>
        ì£¼ì°¨ì¥
    </h4>
</div>

<div class="voice">
    <h4>
        <input 
        type='checkbox'
        name='gs25'
        value='gs25'
        checked="on"
        onclick="gs25ButtonClick()"/>
        ìµœê·¼ë¯¼ì›
    </h4>    
    <h4>
        <input 
        type='checkbox'
        name='gs25'
        value='gs25'
        checked="on"
        onclick="gs25ButtonClick()"/>
        ê°•ì„œNOW
    </h4>    
    <h4>
        <input 
        type='checkbox'
        name='gs25'
        value='gs25'
        checked="on"
        onclick="gs25ButtonClick()"/>
        ê³µê°ìˆ˜â†‘
    </h4>
    <h4>
        <input 
        type='checkbox'
        name='gs25'
        value='gs25'
        checked="on"
        onclick="gs25ButtonClick()"/>
        My
    </h4>
</div>

<script>
    // ë§ˆì»¤ë¥¼ í´ë¦­í–ˆì„ ë•Œ í•´ë‹¹ ì¥ì†Œì˜ ìƒì„¸ì •ë³´ë¥¼ ë³´ì—¬ì¤„ ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ì…ë‹ˆë‹¤
    var placeOverlay = new kakao.maps.CustomOverlay({zIndex:1}), 
        contentNode = document.createElement('div'), // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ì—˜ë¦¬ë¨¼íŠ¸ ì…ë‹ˆë‹¤ 
        markers = [], // ë§ˆì»¤ë¥¼ ë‹´ì„ ë°°ì—´ì…ë‹ˆë‹¤
        currCategory = ''; // í˜„ì¬ ì„ íƒëœ ì¹´í…Œê³ ë¦¬ë¥¼ ê°€ì§€ê³  ìˆì„ ë³€ìˆ˜ì…ë‹ˆë‹¤
     
    
    
    // ì¥ì†Œ ê²€ìƒ‰ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
    var ps = new kakao.maps.services.Places(map); 
    
    // ì§€ë„ì— idle ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
    kakao.maps.event.addListener(map, 'idle', searchPlaces);
    
    // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ë…¸ë“œì— css classë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤ 
    contentNode.className = 'placeinfo_wrap';
    
    // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ë…¸ë“œì— mousedown, touchstart ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ë•Œ
    // ì§€ë„ ê°ì²´ì— ì´ë²¤íŠ¸ê°€ ì „ë‹¬ë˜ì§€ ì•Šë„ë¡ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ kakao.maps.event.preventMap ë©”ì†Œë“œë¥¼ ë“±ë¡í•©ë‹ˆë‹¤ 
    addEventHandle(contentNode, 'mousedown', kakao.maps.event.preventMap);
    addEventHandle(contentNode, 'touchstart', kakao.maps.event.preventMap);
    
    // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ ì»¨í…ì¸ ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤
    placeOverlay.setContent(contentNode);  
    
    // ê° ì¹´í…Œê³ ë¦¬ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
    addCategoryClickEvent();
    
    // ì—˜ë¦¬ë¨¼íŠ¸ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
    function addEventHandle(target, type, callback) {
        if (target.addEventListener) {
            target.addEventListener(type, callback);
        } else {
            target.attachEvent('on' + type, callback);
        }
    }
    
    // ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ì„ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
    function searchPlaces() {
        if (!currCategory) {
            return;
        }
        
        // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ìˆ¨ê¹ë‹ˆë‹¤ 
        placeOverlay.setMap(null);
    
        // ì§€ë„ì— í‘œì‹œë˜ê³  ìˆëŠ” ë§ˆì»¤ë¥¼ ì œê±°í•©ë‹ˆë‹¤
        removeMarker();
        
        ps.categorySearch(currCategory, placesSearchCB, {useMapBounds:true}); 
    }
    
    // ì¥ì†Œê²€ìƒ‰ì´ ì™„ë£Œëì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì½œë°±í•¨ìˆ˜ ì…ë‹ˆë‹¤
    function placesSearchCB(data, status, pagination) {
        if (status === kakao.maps.services.Status.OK) {
    
            // ì •ìƒì ìœ¼ë¡œ ê²€ìƒ‰ì´ ì™„ë£Œëìœ¼ë©´ ì§€ë„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤
            displayPlaces(data);
        } else if (status === kakao.maps.services.Status.ZERO_RESULT) {
            // ê²€ìƒ‰ê²°ê³¼ê°€ ì—†ëŠ”ê²½ìš° í•´ì•¼í•  ì²˜ë¦¬ê°€ ìˆë‹¤ë©´ ì´ê³³ì— ì‘ì„±í•´ ì£¼ì„¸ìš”
    
        } else if (status === kakao.maps.services.Status.ERROR) {
            // ì—ëŸ¬ë¡œ ì¸í•´ ê²€ìƒ‰ê²°ê³¼ê°€ ë‚˜ì˜¤ì§€ ì•Šì€ ê²½ìš° í•´ì•¼í•  ì²˜ë¦¬ê°€ ìˆë‹¤ë©´ ì´ê³³ì— ì‘ì„±í•´ ì£¼ì„¸ìš”
            
        }
    }
    
    // ì§€ë„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
    function displayPlaces(places) {
    
        // ëª‡ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ê°€ ì„ íƒë˜ì–´ ìˆëŠ”ì§€ ì–»ì–´ì˜µë‹ˆë‹¤
        // ì´ ìˆœì„œëŠ” ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ì—ì„œì˜ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤
        var order = document.getElementById(currCategory).getAttribute('data-order');
    
        
    
        for ( var i=0; i<places.length; i++ ) {
    
                // ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
                var marker = addMarker(new kakao.maps.LatLng(places[i].y, places[i].x), order);
    
                // ë§ˆì»¤ì™€ ê²€ìƒ‰ê²°ê³¼ í•­ëª©ì„ í´ë¦­ í–ˆì„ ë•Œ
                // ì¥ì†Œì •ë³´ë¥¼ í‘œì¶œí•˜ë„ë¡ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
                (function(marker, place) {
                    kakao.maps.event.addListener(marker, 'click', function() {
                        displayPlaceInfo(place);
                    });
                })(marker, places[i]);
        }
    }
    
    // ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ ìœ„ì— ë§ˆì»¤ë¥¼ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
    function addMarker(position, order) {
        var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png', // ë§ˆì»¤ ì´ë¯¸ì§€ url, ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ë¥¼ ì”ë‹ˆë‹¤
            imageSize = new kakao.maps.Size(27, 28),  // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ í¬ê¸°
            imgOptions =  {
                spriteSize : new kakao.maps.Size(72, 208), // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ì˜ í¬ê¸°
                spriteOrigin : new kakao.maps.Point(46, (order*36)), // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ ì¤‘ ì‚¬ìš©í•  ì˜ì—­ì˜ ì¢Œìƒë‹¨ ì¢Œí‘œ
                offset: new kakao.maps.Point(11, 28) // ë§ˆì»¤ ì¢Œí‘œì— ì¼ì¹˜ì‹œí‚¬ ì´ë¯¸ì§€ ë‚´ì—ì„œì˜ ì¢Œí‘œ
            },
            markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),
                marker = new kakao.maps.Marker({
                position: position, // ë§ˆì»¤ì˜ ìœ„ì¹˜
                image: markerImage 
            });
    
        marker.setMap(map); // ì§€ë„ ìœ„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤
        markers.push(marker);  // ë°°ì—´ì— ìƒì„±ëœ ë§ˆì»¤ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤
    
        return marker;
    }
    
    // ì§€ë„ ìœ„ì— í‘œì‹œë˜ê³  ìˆëŠ” ë§ˆì»¤ë¥¼ ëª¨ë‘ ì œê±°í•©ë‹ˆë‹¤
    function removeMarker() {
        for ( var i = 0; i < markers.length; i++ ) {
            markers[i].setMap(null);
        }   
        markers = [];
    }
    
    // í´ë¦­í•œ ë§ˆì»¤ì— ëŒ€í•œ ì¥ì†Œ ìƒì„¸ì •ë³´ë¥¼ ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¡œ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
    function displayPlaceInfo (place) {
        var content = '<div class="placeinfo">' +
                        '   <a class="title" href="' + place.place_url + '" target="_blank" title="' + place.place_name + '">' + place.place_name + '</a>';   
    
        if (place.road_address_name) {
            content += '    <span title="' + place.road_address_name + '">' + place.road_address_name + '</span>' +
                        '  <span class="jibun" title="' + place.address_name + '">(ì§€ë²ˆ : ' + place.address_name + ')</span>';
        }  else {
            content += '    <span title="' + place.address_name + '">' + place.address_name + '</span>';
        }                
       
        content += '    <span class="tel">' + place.phone + '</span>' + 
                    '</div>' + 
                    '<div class="after"></div>';
    
        contentNode.innerHTML = content;
        placeOverlay.setPosition(new kakao.maps.LatLng(place.y, place.x));
        placeOverlay.setMap(map);  
    }
    
    
    // ê° ì¹´í…Œê³ ë¦¬ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
    function addCategoryClickEvent() {
        var category = document.getElementById('category'),
            children = category.children;
    
        for (var i=0; i<children.length; i++) {
            children[i].onclick = onClickCategory;
        }
    }
    
    // ì¹´í…Œê³ ë¦¬ë¥¼ í´ë¦­í–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
    function onClickCategory() {
        var id = this.id,
            className = this.className;
    
        placeOverlay.setMap(null);
    
        if (className === 'on') {
            currCategory = '';
            changeCategoryClass();
            removeMarker();
        } else {
            currCategory = id;
            changeCategoryClass(this);
            searchPlaces();
        }
    }
    
    // í´ë¦­ëœ ì¹´í…Œê³ ë¦¬ì—ë§Œ í´ë¦­ëœ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
    function changeCategoryClass(el) {
        var category = document.getElementById('category'),
            children = category.children,
            i;
    
        for ( i=0; i<children.length; i++ ) {
            children[i].className = '';
        }
    
        if (el) {
            el.className = 'on';
        } 
    } 
    
    for (var i = 0; i < positions.length; i ++) {
    // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
    var marker = new kakao.maps.Marker({
        map: map, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ì§€ë„
        position: positions[i].latlng // ë§ˆì»¤ì˜ ìœ„ì¹˜
    });

    // ë§ˆì»¤ì— í‘œì‹œí•  ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ 
    var infowindow = new kakao.maps.InfoWindow({
        content: positions[i].content // ì¸í¬ìœˆë„ìš°ì— í‘œì‹œí•  ë‚´ìš©
    });

    // ë§ˆì»¤ì— mouseover ì´ë²¤íŠ¸ì™€ mouseout ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œëŠ” í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ë“±ë¡í•©ë‹ˆë‹¤ 
    // forë¬¸ì—ì„œ í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ì£¼ì§€ ì•Šìœ¼ë©´ ë§ˆì§€ë§‰ ë§ˆì»¤ì—ë§Œ ì´ë²¤íŠ¸ê°€ ë“±ë¡ë©ë‹ˆë‹¤
    kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
    kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
}

// ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•˜ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
function makeOverListener(map, marker, infowindow) {
    return function() {
        infowindow.open(map, marker);
    };
}

// ì¸í¬ìœˆë„ìš°ë¥¼ ë‹«ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
function makeOutListener(infowindow) {
    return function() {
        infowindow.close();
    };
}
</script>
    <!-- ì´ì œ csvì„ ì½ê³  ê·¸ ë‚´ìš©ì„ latlongdata ë¼ëŠ” ë³€ìˆ˜ì— ì €ì¥í–ˆìŠµë‹ˆë‹¤. -->
    <script>
        var overlayOn = false, // ì§€ë„ ìœ„ì— ë¡œë“œë·° ì˜¤ë²„ë ˆì´ê°€ ì¶”ê°€ëœ ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆì„ ë³€ìˆ˜
            container = document.getElementById('container'), // ì§€ë„ì™€ ë¡œë“œë·°ë¥¼ ê°ì‹¸ê³  ìˆëŠ” div ì…ë‹ˆë‹¤
            mapWrapper = document.getElementById('mapWrapper'), // ì§€ë„ë¥¼ ê°ì‹¸ê³  ìˆëŠ” div ì…ë‹ˆë‹¤
            mapContainer = document.getElementById('map'), // ì§€ë„ë¥¼ í‘œì‹œí•  div ì…ë‹ˆë‹¤ 
            rvContainer = document.getElementById('roadview'); //ë¡œë“œë·°ë¥¼ í‘œì‹œí•  div ì…ë‹ˆë‹¤
        
        var mapCenter = new kakao.maps.LatLng(33.45042 , 126.57091), // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
            mapOption = {
                center: mapCenter, // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
                level: 3 // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
            };
        
        // ì§€ë„ë¥¼ í‘œì‹œí•  divì™€ ì§€ë„ ì˜µì…˜ìœ¼ë¡œ ì§€ë„ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var map = new kakao.maps.Map(mapContainer, mapOption);
        
        // ë¡œë“œë·° ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ 
        var rv = new kakao.maps.Roadview(rvContainer); 
        
        // ì¢Œí‘œë¡œë¶€í„° ë¡œë“œë·° íŒŒë…¸ë¼ë§ˆ IDë¥¼ ê°€ì ¸ì˜¬ ë¡œë“œë·° í´ë¼ì´ì–¸íŠ¸ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ 
        var rvClient = new kakao.maps.RoadviewClient(); 
        
        // ë¡œë“œë·°ì— ì¢Œí‘œê°€ ë°”ë€Œì—ˆì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤ 
        kakao.maps.event.addListener(rv, 'position_changed', function() {
        
            // í˜„ì¬ ë¡œë“œë·°ì˜ ìœ„ì¹˜ ì¢Œí‘œë¥¼ ì–»ì–´ì˜µë‹ˆë‹¤ 
            var rvPosition = rv.getPosition();
        
            // ì§€ë„ì˜ ì¤‘ì‹¬ì„ í˜„ì¬ ë¡œë“œë·°ì˜ ìœ„ì¹˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
            map.setCenter(rvPosition);
        
            // ì§€ë„ ìœ„ì— ë¡œë“œë·° ë„ë¡œ ì˜¤ë²„ë ˆì´ê°€ ì¶”ê°€ëœ ìƒíƒœì´ë©´
            if(overlayOn) {
                // ë§ˆì»¤ì˜ ìœ„ì¹˜ë¥¼ í˜„ì¬ ë¡œë“œë·°ì˜ ìœ„ì¹˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
                marker.setPosition(rvPosition);
            }
        });
        
        // ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var markImage = new kakao.maps.MarkerImage(
            'https://t1.daumcdn.net/localimg/localimages/07/2018/pc/roadview_minimap_wk_2018.png',
            new kakao.maps.Size(26, 46),
            {
                // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
                // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ ì „ì²´ì˜ í¬ê¸°ë¥¼ ì§€ì •í•˜ê³ 
                spriteSize: new kakao.maps.Size(1666, 168),
                // ì‚¬ìš©í•˜ê³  ì‹¶ì€ ì˜ì—­ì˜ ì¢Œìƒë‹¨ ì¢Œí‘œë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
                // background-positionìœ¼ë¡œ ì§€ì •í•˜ëŠ” ê°’ì´ë©° ë¶€í˜¸ëŠ” ë°˜ëŒ€ì…ë‹ˆë‹¤.
                spriteOrigin: new kakao.maps.Point(705, 114),
                offset: new kakao.maps.Point(13, 46)
            }
        );
        
        // ë“œë˜ê·¸ê°€ ê°€ëŠ¥í•œ ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var marker = new kakao.maps.Marker({
            image : markImage,
            position: mapCenter,
            draggable: true
        });
        
        // ë§ˆì»¤ì— dragend ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
        kakao.maps.event.addListener(marker, 'dragend', function(mouseEvent) {
        
            // // í˜„ì¬ ë§ˆì»¤ê°€ ë†“ì¸ ìë¦¬ì˜ ì¢Œí‘œì…ë‹ˆë‹¤ 
            var position = marker.getPosition();
        
            // ë§ˆì»¤ê°€ ë†“ì¸ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¡œë“œë·°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤
            toggleRoadview(position);
        });
        
        //ì§€ë„ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
        kakao.maps.event.addListener(map, 'click', function(mouseEvent){
            
            // ì§€ë„ ìœ„ì— ë¡œë“œë·° ë„ë¡œ ì˜¤ë²„ë ˆì´ê°€ ì¶”ê°€ëœ ìƒíƒœê°€ ì•„ë‹ˆë©´ í´ë¦­ì´ë²¤íŠ¸ë¥¼ ë¬´ì‹œí•©ë‹ˆë‹¤ 
            if(!overlayOn) {
                return;
            }
        
            // í´ë¦­í•œ ìœ„ì¹˜ì˜ ì¢Œí‘œì…ë‹ˆë‹¤ 
            var position = mouseEvent.latLng;
        
            // ë§ˆì»¤ë¥¼ í´ë¦­í•œ ìœ„ì¹˜ë¡œ ì˜®ê¹ë‹ˆë‹¤
            marker.setPosition(position);
        
            // í´ë½í•œ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¡œë“œë·°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤
            toggleRoadview(position);
        });
        
        // ì „ë‹¬ë°›ì€ ì¢Œí‘œ(position)ì— ê°€ê¹Œìš´ ë¡œë“œë·°ì˜ íŒŒë…¸ë¼ë§ˆ IDë¥¼ ì¶”ì¶œí•˜ì—¬
        // ë¡œë“œë·°ë¥¼ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function toggleRoadview(position){
            rvClient.getNearestPanoId(position, 50, function(panoId) {
                // íŒŒë…¸ë¼ë§ˆ IDê°€ null ì´ë©´ ë¡œë“œë·°ë¥¼ ìˆ¨ê¹ë‹ˆë‹¤
                if (panoId === null) {
                    toggleMapWrapper(true, position);
                } else {
                    toggleMapWrapper(false, position);
        
                    // panoIdë¡œ ë¡œë“œë·°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤
                    rv.setPanoId(panoId, position);
                }
            });
        }
        
        // ì§€ë„ë¥¼ ê°ì‹¸ê³  ìˆëŠ” divì˜ í¬ê¸°ë¥¼ ì¡°ì •í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function toggleMapWrapper(active, position) {
            if (active) {
        
                // ì§€ë„ë¥¼ ê°ì‹¸ê³  ìˆëŠ” divì˜ ë„ˆë¹„ê°€ 100%ê°€ ë˜ë„ë¡ classë¥¼ ë³€ê²½í•©ë‹ˆë‹¤ 
                container.className = '';
        
                // ì§€ë„ì˜ í¬ê¸°ê°€ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì— relayout í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤
                map.relayout();
        
                // ì§€ë„ì˜ ë„ˆë¹„ê°€ ë³€ê²½ë  ë•Œ ì§€ë„ì¤‘ì‹¬ì„ ì…ë ¥ë°›ì€ ìœ„ì¹˜(position)ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
                map.setCenter(position);
            } else {
        
                // ì§€ë„ë§Œ ë³´ì—¬ì§€ê³  ìˆëŠ” ìƒíƒœì´ë©´ ì§€ë„ì˜ ë„ˆë¹„ê°€ 50%ê°€ ë˜ë„ë¡ classë¥¼ ë³€ê²½í•˜ì—¬
                // ë¡œë“œë·°ê°€ í•¨ê»˜ í‘œì‹œë˜ê²Œ í•©ë‹ˆë‹¤
                if (container.className.indexOf('view_roadview') === -1) {
                    container.className = 'view_roadview';
        
                    // ì§€ë„ì˜ í¬ê¸°ê°€ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì— relayout í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤
                    map.relayout();
        
                    // ì§€ë„ì˜ ë„ˆë¹„ê°€ ë³€ê²½ë  ë•Œ ì§€ë„ì¤‘ì‹¬ì„ ì…ë ¥ë°›ì€ ìœ„ì¹˜(position)ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
                    map.setCenter(position);
                }
            }
        }
        
        // ì§€ë„ ìœ„ì˜ ë¡œë“œë·° ë„ë¡œ ì˜¤ë²„ë ˆì´ë¥¼ ì¶”ê°€,ì œê±°í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function toggleOverlay(active) {
            if (active) {
                overlayOn = true;
        
                // ì§€ë„ ìœ„ì— ë¡œë“œë·° ë„ë¡œ ì˜¤ë²„ë ˆì´ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤
                map.addOverlayMapTypeId(kakao.maps.MapTypeId.ROADVIEW);
        
                // ì§€ë„ ìœ„ì— ë§ˆì»¤ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤
                marker.setMap(map);
        
                // ë§ˆì»¤ì˜ ìœ„ì¹˜ë¥¼ ì§€ë„ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤ 
                marker.setPosition(map.getCenter());
        
                // ë¡œë“œë·°ì˜ ìœ„ì¹˜ë¥¼ ì§€ë„ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
                toggleRoadview(map.getCenter());
            } else {
                overlayOn = false;
        
                // ì§€ë„ ìœ„ì˜ ë¡œë“œë·° ë„ë¡œ ì˜¤ë²„ë ˆì´ë¥¼ ì œê±°í•©ë‹ˆë‹¤
                map.removeOverlayMapTypeId(kakao.maps.MapTypeId.ROADVIEW);
        
                // ì§€ë„ ìœ„ì˜ ë§ˆì»¤ë¥¼ ì œê±°í•©ë‹ˆë‹¤
                marker.setMap(null);
            }
        }
        
        // ì§€ë„ ìœ„ì˜ ë¡œë“œë·° ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function setRoadviewRoad() {
            var control = document.getElementById('roadviewControl');
        
            // ë²„íŠ¼ì´ ëˆŒë¦° ìƒíƒœê°€ ì•„ë‹ˆë©´
            if (control.className.indexOf('active') === -1) {
                control.className = 'active';
        
                // ë¡œë“œë·° ë„ë¡œ ì˜¤ë²„ë ˆì´ê°€ ë³´ì´ê²Œ í•©ë‹ˆë‹¤
                toggleOverlay(true);
            } else {
                control.className = '';
        
                // ë¡œë“œë·° ë„ë¡œ ì˜¤ë²„ë ˆì´ë¥¼ ì œê±°í•©ë‹ˆë‹¤
                toggleOverlay(false);
            }
        }
        
        // ë¡œë“œë·°ì—ì„œ Xë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ë¡œë“œë·°ë¥¼ ì§€ë„ ë’¤ë¡œ ìˆ¨ê¸°ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function closeRoadview() {
            var position = marker.getPosition();
            toggleMapWrapper(true, position);
        }
    </script>

    <div style="position: relative;">
        <script>

            var mapContainer = document.getElementById('map'), // ì§€ë„ë¥¼ í‘œì‹œí•  div  
                    mapOption = {
                         // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ (ê°•ì„œêµ¬ì²­)
                        center: new kakao.maps.LatLng(37.550332499999996,126.84896699999999),
                        level: 2 // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨. ìˆ«ìê°€ ì ì„ìˆ˜ë¡ ë” í¬ê²Œ í™•ëŒ€ëœë‹¤.
                    };

            var map = new kakao.maps.Map(mapContainer, mapOption); // ì§€ë„ë¥¼ ìƒì„±í•©ë‹ˆë‹¤

            var mapTypes = {
                terrain : kakao.maps.MapTypeId.TERRAIN,    
                traffic :  kakao.maps.MapTypeId.TRAFFIC,
                bicycle : kakao.maps.MapTypeId.BICYCLE,
                useDistrict : kakao.maps.MapTypeId.USE_DISTRICT
            };

            // ì²´í¬ ë°•ìŠ¤ë¥¼ ì„ íƒí•˜ë©´ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
            function setOverlayMapTypeId() {
                var chkTerrain = document.getElementById('chkTerrain'),  
                    chkTraffic = document.getElementById('chkTraffic'),
                    chkBicycle = document.getElementById('chkBicycle'),
                    chkUseDistrict = document.getElementById('chkUseDistrict');
                
                // ì§€ë„ íƒ€ì…ì„ ì œê±°í•©ë‹ˆë‹¤
                for (var type in mapTypes) {
                    map.removeOverlayMapTypeId(mapTypes[type]);    
                }

                // ì§€ì í¸ì§‘ë„ì •ë³´ ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ë˜ì–´ìˆìœ¼ë©´ ì§€ë„ì— ì§€ì í¸ì§‘ë„ì •ë³´ ì§€ë„íƒ€ì…ì„ ì¶”ê°€í•©ë‹ˆë‹¤
                if (chkUseDistrict.checked) {
                    map.addOverlayMapTypeId(mapTypes.useDistrict);    
                }
                
                // ì§€í˜•ì •ë³´ ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ë˜ì–´ìˆìœ¼ë©´ ì§€ë„ì— ì§€í˜•ì •ë³´ ì§€ë„íƒ€ì…ì„ ì¶”ê°€í•©ë‹ˆë‹¤
                if (chkTerrain.checked) {
                    map.addOverlayMapTypeId(mapTypes.terrain);    
                }
                
                // êµí†µì •ë³´ ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ë˜ì–´ìˆìœ¼ë©´ ì§€ë„ì— êµí†µì •ë³´ ì§€ë„íƒ€ì…ì„ ì¶”ê°€í•©ë‹ˆë‹¤
                if (chkTraffic.checked) {
                    map.addOverlayMapTypeId(mapTypes.traffic);    
                }
                
                // ìì „ê±°ë„ë¡œì •ë³´ ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ë˜ì–´ìˆìœ¼ë©´ ì§€ë„ì— ìì „ê±°ë„ë¡œì •ë³´ ì§€ë„íƒ€ì…ì„ ì¶”ê°€í•©ë‹ˆë‹¤
                if (chkBicycle.checked) {
                    map.addOverlayMapTypeId(mapTypes.bicycle);    
                }
                
            }  
            // ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•˜ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
            function makeOverListener(map, marker, infowindow) {
                return function () {
                    infowindow.open(map, marker);
                };
            }

            // ì¸í¬ìœˆë„ìš°ë¥¼ ë‹«ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
            function makeOutListener(infowindow) {
                return function () {
                    infowindow.close();
                };
            }

            // ì§€ë„ì— ë§ˆì»¤ì™€ ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
            function displayMarker(locPosition, message) {

                var iwContent = message, // ì¸í¬ìœˆë„ìš°ì— í‘œì‹œí•  ë‚´ìš©
                    iwRemoveable = true;

                // ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                var infowindow = new kakao.maps.InfoWindow({
                    content: iwContent,
                    removable: iwRemoveable
                });

                // ì¸í¬ìœˆë„ìš°ë¥¼ ë§ˆì»¤ìœ„ì— í‘œì‹œí•©ë‹ˆë‹¤ 
                infowindow.open(map, marker)
            }

            var drawingFlag = false; // ì›ì´ ê·¸ë ¤ì§€ê³  ìˆëŠ” ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆì„ ë³€ìˆ˜ì…ë‹ˆë‹¤
            var centerPosition; // ì›ì˜ ì¤‘ì‹¬ì¢Œí‘œ ì…ë‹ˆë‹¤
            var drawingCircle; // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›ì„ í‘œì‹œí•  ì› ê°ì²´ì…ë‹ˆë‹¤
            var drawingLine; // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›ì˜ ë°˜ì§€ë¦„ì„ í‘œì‹œí•  ì„  ê°ì²´ì…ë‹ˆë‹¤
            var drawingOverlay; // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›ì˜ ë°˜ê²½ì„ í‘œì‹œí•  ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ ì…ë‹ˆë‹¤
            var drawingDot; // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›ì˜ ì¤‘ì‹¬ì ì„ í‘œì‹œí•  ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ ì…ë‹ˆë‹¤

            var lastKnownCenterPosition;
            var cctvMarkers = [];
            var gs25Markers = [];

            var circles = []; // í´ë¦­ìœ¼ë¡œ ê·¸ë ¤ì§„ ì›ê³¼ ë°˜ê²½ ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ì„ ê³¼ ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ë¥¼ ê°€ì§€ê³  ìˆì„ ë°°ì—´ì…ë‹ˆë‹¤
            // ì§€ë„ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤

            // ì§€ë„ë¥¼ í´ë¦­í•œ ìœ„ì¹˜ì— í‘œì¶œí•  ë§ˆì»¤ì…ë‹ˆë‹¤
            var marker_click = new kakao.maps.Marker({ 
                // ì§€ë„ ì¤‘ì‹¬ì¢Œí‘œì— ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ 
                position: map.getCenter(), 
                clickable: true
            }); 

            // ì•„ë˜ ì½”ë“œëŠ” ìœ„ì˜ ë§ˆì»¤ë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œì—ì„œ clickable: true ì™€ ê°™ì´
            // ë§ˆì»¤ë¥¼ í´ë¦­í–ˆì„ ë•Œ ì§€ë„ì˜ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
            // marker_click.setClickable(true);

            // ë§ˆì»¤ë¥¼ ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤.
            marker_click.setMap(map);

            // ë§ˆì»¤ë¥¼ í´ë¦­í–ˆì„ ë•Œ ë§ˆì»¤ ìœ„ì— í‘œì‹œí•  ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
            // ì¸í¬ìœˆë„ìš°ì— í‘œì¶œë  ë‚´ìš©ìœ¼ë¡œ HTML ë¬¸ìì—´ì´ë‚˜ document elementê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤
            var iwContent = '<div class="propose"><a href="https://www.gangseo.seoul.kr/gs0202022?curPage=1" target="_blank"><h3>ì œì•ˆê²Œì‹œíŒ ì´ë™</h3></div>', 
                iwRemoveable = true; // removeable ì†ì„±ì„ ture ë¡œ ì„¤ì •í•˜ë©´ ì¸í¬ìœˆë„ìš°ë¥¼ ë‹«ì„ ìˆ˜ ìˆëŠ” xë²„íŠ¼ì´ í‘œì‹œë©ë‹ˆë‹¤
                
           
            // ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
            var infowindow = new kakao.maps.InfoWindow({
                content : iwContent,
                removable : iwRemoveable
            });

            // ë§ˆì»¤ì— í´ë¦­ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
            kakao.maps.event.addListener(marker_click, 'click', function() {
                // ë§ˆì»¤ ìœ„ì— ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤
                infowindow.open(map, marker_click);  
                kakao.maps.event.addListener(marker_click, 'click', makeOutListener(infowindow_star));
            });


            // ì§€ë„ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
            // ì§€ë„ë¥¼ í´ë¦­í•˜ë©´ ë§ˆì§€ë§‰ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¨ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤
            kakao.maps.event.addListener(map, 'click', function(mouseEvent) {        
                
                // í´ë¦­í•œ ìœ„ë„, ê²½ë„ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤ 
                var latlng = mouseEvent.latLng; 
                
                var message = 'í´ë¦­(ë§ˆì»¤)ì˜ ìœ„ì¹˜ : ìœ„ë„, ê²½ë„ ( ' + latlng.getLat() + ',';
                message += latlng.getLng() + ' )';
                
                var resultDiv = document.getElementById('clickLatlng'); 
                resultDiv.innerHTML = message;
                
            });
            

            kakao.maps.event.addListener(map, 'click', function (mouseEvent) {

                // í´ë¦­í•œ ìœ„ë„, ê²½ë„ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤ 
                var latlng = mouseEvent.latLng; 
                
                // ë§ˆì»¤ ìœ„ì¹˜ë¥¼ í´ë¦­í•œ ìœ„ì¹˜ë¡œ ì˜®ê¹ë‹ˆë‹¤
                marker_click.setPosition(latlng);
        
                var resultDiv = document.getElementById('clickLatlng'); 
                
                // í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì›ì„ ê·¸ë¦¬ê³  ìˆëŠ” ìƒíƒœê°€ ì•„ë‹ˆë©´ ì¤‘ì‹¬ì¢Œí‘œë¥¼ í´ë¦­í•œ ì§€ì ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
                if (!drawingFlag) {

                    // ìƒíƒœë¥¼ ê·¸ë¦¬ê³ ìˆëŠ” ìƒíƒœë¡œ ë³€ê²½í•©ë‹ˆë‹¤
                    drawingFlag = true;

                    // ì›ì´ ê·¸ë ¤ì§ˆ ì¤‘ì‹¬ì¢Œí‘œë¥¼ í´ë¦­í•œ ìœ„ì¹˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤ 
                    centerPosition = mouseEvent.latLng;
                    lastKnownCenterPosition = mouseEvent.latLng;

                    // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›ì˜ ë°˜ê²½ì„ í‘œì‹œí•  ì„  ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    if (!drawingLine) {
                        drawingLine = new kakao.maps.Polyline({
                            strokeWeight: 3, // ì„ ì˜ ë‘ê»˜ì…ë‹ˆë‹¤
                            strokeColor: '#00a0e9', // ì„ ì˜ ìƒ‰ê¹”ì…ë‹ˆë‹¤
                            strokeOpacity: 1, // ì„ ì˜ ë¶ˆíˆ¬ëª…ë„ì…ë‹ˆë‹¤ 0ì—ì„œ 1 ì‚¬ì´ê°’ì´ë©° 0ì— ê°€ê¹Œìš¸ìˆ˜ë¡ íˆ¬ëª…í•©ë‹ˆë‹¤
                            strokeStyle: 'solid' // ì„ ì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤
                        });
                    }

                    // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›ì„ í‘œì‹œí•  ì› ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    if (!drawingCircle) {
                        drawingCircle = new kakao.maps.Circle({
                            strokeWeight: 1, // ì„ ì˜ ë‘ê»˜ì…ë‹ˆë‹¤
                            strokeColor: '#00a0e9', // ì„ ì˜ ìƒ‰ê¹”ì…ë‹ˆë‹¤
                            strokeOpacity: 0.1, // ì„ ì˜ ë¶ˆíˆ¬ëª…ë„ì…ë‹ˆë‹¤ 0ì—ì„œ 1 ì‚¬ì´ê°’ì´ë©° 0ì— ê°€ê¹Œìš¸ìˆ˜ë¡ íˆ¬ëª…í•©ë‹ˆë‹¤
                            strokeStyle: 'solid', // ì„ ì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤
                            fillColor: '#00a0e9', // ì±„ìš°ê¸° ìƒ‰ê¹”ì…ë‹ˆë‹¤
                            fillOpacity: 0.2 // ì±„ìš°ê¸° ë¶ˆíˆ¬ëª…ë„ì…ë‹ˆë‹¤ 
                        });
                    }

                    // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›ì˜ ë°˜ê²½ ì •ë³´ë¥¼ í‘œì‹œí•  ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    if (!drawingOverlay) {
                        drawingOverlay = new kakao.maps.CustomOverlay({
                            xAnchor: 0,
                            yAnchor: 0,
                            zIndex: 1
                        });
                    }
                }
            });

            // ì§€ë„ì— ë§ˆìš°ìŠ¤ë¬´ë¸Œ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
            // ì›ì„ ê·¸ë¦¬ê³ ìˆëŠ” ìƒíƒœì—ì„œ ë§ˆìš°ìŠ¤ë¬´ë¸Œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ê·¸ë ¤ì§ˆ ì›ì˜ ìœ„ì¹˜ì™€ ë°˜ê²½ì •ë³´ë¥¼ ë™ì ìœ¼ë¡œ ë³´ì—¬ì£¼ë„ë¡ í•©ë‹ˆë‹¤
            kakao.maps.event.addListener(map, 'mousemove', function (mouseEvent) {

                // ë§ˆìš°ìŠ¤ë¬´ë¸Œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì›ì„ ê·¸ë¦¬ê³ ìˆëŠ” ìƒíƒœì´ë©´
                if (drawingFlag) {

                    // ë§ˆìš°ìŠ¤ ì»¤ì„œì˜ í˜„ì¬ ìœ„ì¹˜ë¥¼ ì–»ì–´ì˜µë‹ˆë‹¤ 
                    var mousePosition = mouseEvent.latLng;

                    // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì„ ì„ í‘œì‹œí•  ì¢Œí‘œ ë°°ì—´ì…ë‹ˆë‹¤. í´ë¦­í•œ ì¤‘ì‹¬ì¢Œí‘œì™€ ë§ˆìš°ìŠ¤ì»¤ì„œì˜ ìœ„ì¹˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
                    var linePath = [centerPosition, mousePosition];

                    // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì„ ì„ í‘œì‹œí•  ì„  ê°ì²´ì— ì¢Œí‘œ ë°°ì—´ì„ ì„¤ì •í•©ë‹ˆë‹¤
                    drawingLine.setPath(linePath);

                    // ì›ì˜ ë°˜ì§€ë¦„ì„ ì„  ê°ì²´ë¥¼ ì´ìš©í•´ì„œ ì–»ì–´ì˜µë‹ˆë‹¤ 
                    var length = drawingLine.getLength();

                    if (length > 0) {

                        // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›ì˜ ì¤‘ì‹¬ì¢Œí‘œì™€ ë°˜ì§€ë¦„ì…ë‹ˆë‹¤
                        var circleOptions = {
                            center: centerPosition,
                            radius: length,
                        };

                        // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›ì˜ ì˜µì…˜ì„ ì„¤ì •í•©ë‹ˆë‹¤
                        drawingCircle.setOptions(circleOptions);

                        // ë°˜ê²½ ì •ë³´ë¥¼ í‘œì‹œí•  ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ì˜ ë‚´ìš©ì…ë‹ˆë‹¤
                        var radius = Math.round(drawingCircle.getRadius()),
                            content = '<div class="info">ë°˜ê²½ <span class="number">' + radius + '</span>m</div>';

                        // ë°˜ê²½ ì •ë³´ë¥¼ í‘œì‹œí•  ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì¢Œí‘œë¥¼ ë§ˆìš°ìŠ¤ì»¤ì„œ ìœ„ì¹˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
                        drawingOverlay.setPosition(mousePosition);

                        // ë°˜ê²½ ì •ë³´ë¥¼ í‘œì‹œí•  ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ í‘œì‹œí•  ë‚´ìš©ì„ ì„¤ì •í•©ë‹ˆë‹¤
                        drawingOverlay.setContent(content);

                        // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›ì„ ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
                        drawingCircle.setMap(map);

                        // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì„ ì„ ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
                        drawingLine.setMap(map);

                        // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›ì˜ ë°˜ê²½ì •ë³´ ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
                        drawingOverlay.setMap(map);

                    } else {

                        drawingCircle.setMap(null);
                        drawingLine.setMap(null);
                        drawingOverlay.setMap(null);

                    }
                }
            });

            // ì§€ë„ì— ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
            // ì›ì„ ê·¸ë¦¬ê³ ìˆëŠ” ìƒíƒœì—ì„œ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´
            // ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­í•œ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ 
            // ì›ê³¼ ì›ì˜ ë°˜ê²½ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ì„ ê³¼ ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ í‘œì‹œí•˜ê³  ê·¸ë¦¬ê¸°ë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤
            // ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ì›ì˜ ë°˜ê²½ë‚´ ìœ„ì¹˜í•œ cctvë¥¼ ì§€ë„ì— í‘œì‹œí•´ ì¤ë‹ˆë‹¤.
            kakao.maps.event.addListener(map, 'rightclick', function (mouseEvent) {

                if (drawingFlag) {

                    // ë§ˆìš°ìŠ¤ë¡œ ì˜¤ë¥¸ìª½ í´ë¦­í•œ ìœ„ì¹˜ì…ë‹ˆë‹¤ 
                    var rClickPosition = mouseEvent.latLng;
                    var kakaoLatLongDataForm = rClickPosition

                    // ì›ì˜ ë°˜ê²½ì„ í‘œì‹œí•  ì„  ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    var polyline = new kakao.maps.Polyline({
                        path: [centerPosition, rClickPosition], // ì„ ì„ êµ¬ì„±í•˜ëŠ” ì¢Œí‘œ ë°°ì—´ì…ë‹ˆë‹¤. ì›ì˜ ì¤‘ì‹¬ì¢Œí‘œì™€ í´ë¦­í•œ ìœ„ì¹˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
                        strokeWeight: 3, // ì„ ì˜ ë‘ê»˜ ì…ë‹ˆë‹¤
                        strokeColor: '#00a0e9', // ì„ ì˜ ìƒ‰ê¹”ì…ë‹ˆë‹¤
                        strokeOpacity: 1, // ì„ ì˜ ë¶ˆíˆ¬ëª…ë„ì…ë‹ˆë‹¤ 0ì—ì„œ 1 ì‚¬ì´ê°’ì´ë©° 0ì— ê°€ê¹Œìš¸ìˆ˜ë¡ íˆ¬ëª…í•©ë‹ˆë‹¤
                        strokeStyle: 'solid' // ì„ ì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤
                    });

                    // ì› ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    var circle = new kakao.maps.Circle({
                        center: centerPosition, // ì›ì˜ ì¤‘ì‹¬ì¢Œí‘œì…ë‹ˆë‹¤
                        radius: polyline.getLength(), // ì›ì˜ ë°˜ì§€ë¦„ì…ë‹ˆë‹¤ m ë‹¨ìœ„ ì´ë©° ì„  ê°ì²´ë¥¼ ì´ìš©í•´ì„œ ì–»ì–´ì˜µë‹ˆë‹¤
                        strokeWeight: 1, // ì„ ì˜ ë‘ê»˜ì…ë‹ˆë‹¤
                        strokeColor: '#00a0e9', // ì„ ì˜ ìƒ‰ê¹”ì…ë‹ˆë‹¤
                        strokeOpacity: 0.1, // ì„ ì˜ ë¶ˆíˆ¬ëª…ë„ì…ë‹ˆë‹¤ 0ì—ì„œ 1 ì‚¬ì´ê°’ì´ë©° 0ì— ê°€ê¹Œìš¸ìˆ˜ë¡ íˆ¬ëª…í•©ë‹ˆë‹¤
                        strokeStyle: 'solid', // ì„ ì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤
                        fillColor: '#00a0e9', // ì±„ìš°ê¸° ìƒ‰ê¹”ì…ë‹ˆë‹¤
                        fillOpacity: 0.2  // ì±„ìš°ê¸° ë¶ˆíˆ¬ëª…ë„ì…ë‹ˆë‹¤ 
                    });

                    var radius = Math.round(circle.getRadius()), // ì›ì˜ ë°˜ê²½ ì •ë³´ë¥¼ ì–»ì–´ì˜µë‹ˆë‹¤
                        content = getTimeHTML(radius); // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì— í‘œì‹œí•  ë°˜ê²½ ì •ë³´ì…ë‹ˆë‹¤


                    // ë°˜ê²½ì •ë³´ë¥¼ í‘œì‹œí•  ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    var radiusOverlay = new kakao.maps.CustomOverlay({
                        content: content, // í‘œì‹œí•  ë‚´ìš©ì…ë‹ˆë‹¤
                        position: rClickPosition, // í‘œì‹œí•  ìœ„ì¹˜ì…ë‹ˆë‹¤. í´ë¦­í•œ ìœ„ì¹˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
                        xAnchor: 0,
                        yAnchor: 0,
                        zIndex: 1
                    });

                    // ì›ì„ ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
                    circle.setMap(map);

                    // ì„ ì„ ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
                    polyline.setMap(map);

                    // ë°˜ê²½ ì •ë³´ ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
                    radiusOverlay.setMap(map);

                    // ë°°ì—´ì— ë‹´ì„ ê°ì²´ì…ë‹ˆë‹¤. ì›, ì„ , ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ ê°ì²´ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤
                    var radiusObj = {
                        'polyline': polyline,
                        'circle': circle,
                        'overlay': radiusOverlay
                    };

                    // ë°°ì—´ì— ì¶”ê°€í•©ë‹ˆë‹¤
                    // ì´ ë°°ì—´ì„ ì´ìš©í•´ì„œ "ëª¨ë‘ ì§€ìš°ê¸°" ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ì§€ë„ì— ê·¸ë ¤ì§„ ì›, ì„ , ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ë“¤ì„ ì§€ì›ë‹ˆë‹¤
                    circles.push(radiusObj);

                    // ê·¸ë¦¬ê¸° ìƒíƒœë¥¼ ê·¸ë¦¬ê³  ìˆì§€ ì•ŠëŠ” ìƒíƒœë¡œ ë°”ê¿‰ë‹ˆë‹¤
                    drawingFlag = false;

                    // ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ì´ˆê¸°í™” í•©ë‹ˆë‹¤  
                    centerPosition = null;

                    // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì›, ì„ , ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ë¥¼ ì§€ë„ì—ì„œ ì œê±°í•©ë‹ˆë‹¤
                    drawingCircle.setMap(null);
                    drawingLine.setMap(null);
                    drawingOverlay.setMap(null);


                    // ë§ˆì»¤ì´ë¯¸ì§€ë¥¼ ì§€ì •í•˜ëŠ” ë°©ë²•ë“¤

                    // ë°©ë²•1) url ì§€ì •
                    // var imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";

                    // ë°©ë²•2-1) íŒŒì¼ ìƒëŒ€ê²½ë¡œ ì§€ì • (ì¹´ì¹´ì˜¤ë§µ ê¸°ë³¸ ë³„ë§ˆì»¤)
                    // var imageSrc = "./img/markerStar.png";

                    // ë°©ë²•2-1) íŒŒì¼ ìƒëŒ€ê²½ë¡œ ì§€ì • (ì»¤ìŠ¤í…€)
                    // (ë§ˆì»¤ì•„ì´ì½˜ íŒŒì¼ê²½ë¡œ ì§€ì •. 24x35pixel ëˆ„ë¼ë”´ png íŒŒì¼ ê¶Œì¥)
                    var imageSrc = "./img/cctvPinIconMini.png";
                    var imageStore = "./img/"

                    // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ ì´ë¯¸ì§€ í¬ê¸° ì…ë‹ˆë‹¤
                    var imageSize = new kakao.maps.Size(24, 35);

                    // ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤    
                    var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);

                    // csvì˜ ë°ì´í„° ê°¯ìˆ˜ë§Œí¼ ë°˜ë³µí•©ë‹ˆë‹¤.
                    for (var i = 0; i < latlongdata.length; i++) {
                        // ë§¤ ë°˜ë³µë¬¸ì´ ëŒë•Œë§ˆë‹¤ csvíŒŒì¼ë‚´ ê°í–‰ì˜ ê²½ìœ„ë„ ì¢Œí‘œì™€ ì œëª©ì„
                        // ì¹´ì¹´ì˜¤ì—ì„œ ìš”êµ¬í•œë°ë¡œ ë§ì¶°ì„œ ì…‹íŒ…í•´ì¤ë‹ˆë‹¤.

                        // ê·¸ë¦¬ê³  ì§€ë„ìƒ ì›ì˜ ì¤‘ì‹¬ì„ ê¸°ì¤€ìœ¼ë¡œ,
                        // ë°˜ê²½ë‚´ ìœ„ì¹˜í•œ ê²½ìœ„ë„ ì¢Œí‘œì¸ì§€ ê²€ì‚¬í•´ì¤ë‹ˆë‹¤.
                        // ì›ì˜ ë°˜ê²½ë‚´ ìœ„ì¹˜í•œ ì¢Œí‘œê°€ ì•„ë‹ˆë©´ continueë¡œ ë„ì–´ë„˜ê³  ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
                        // kakaoLatLongDataForm
                        //qa {La: 126.96997824751595, Ma: 37.46289152483573}
                        //La: 126.96997824751595
                        //Ma: 37.46289152483573
                        var comparisonPosition = kakaoLatLongDataForm;
                        comparisonPosition.La = latlongdata[i].long;
                        comparisonPosition.Ma = latlongdata[i].lat;
                    }

                        var temp_Polyline = new kakao.maps.Polyline({
                            path: [lastKnownCenterPosition, comparisonPosition], // ì„ ì„ êµ¬ì„±í•˜ëŠ” ì¢Œí‘œ ë°°ì—´ì…ë‹ˆë‹¤. ì›ì˜ ì¤‘ì‹¬ì¢Œí‘œì™€ í´ë¦­í•œ ìœ„ì¹˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
                        });

                       for (var i = 0; i < latlongdata.length; i++) {
                       
                        var comparisonPosition = kakaoLatLongDataForm;
                        comparisonPosition.La = latlongdata[i].long;
                        comparisonPosition.Ma = latlongdata[i].lat;

                        var temp_Polyline = new kakao.maps.Polyline({
                            path: [lastKnownCenterPosition, comparisonPosition], // ì„ ì„ êµ¬ì„±í•˜ëŠ” ì¢Œí‘œ ë°°ì—´ì…ë‹ˆë‹¤. ì›ì˜ ì¤‘ì‹¬ì¢Œí‘œì™€ í´ë¦­í•œ ìœ„ì¹˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤
                        });

                        // ì› ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                        var temp_circle = new kakao.maps.Circle({
                            center: lastKnownCenterPosition, // ì›ì˜ ì¤‘ì‹¬ì¢Œí‘œì…ë‹ˆë‹¤
                            radius: temp_Polyline.getLength(), // ì›ì˜ ë°˜ì§€ë¦„ì…ë‹ˆë‹¤ m ë‹¨ìœ„ ì´ë©° ì„  ê°ì²´ë¥¼ ì´ìš©í•´ì„œ ì–»ì–´ì˜µë‹ˆë‹¤
                        });

                        var temp_radius = Math.round(temp_circle.getRadius()); // ì›ì˜ ë°˜ê²½ ì •ë³´ë¥¼ ì–»ì–´ì˜µë‹ˆë‹¤

                        // ë°˜ê²½ë‚´ í¬í•¨ë˜ë©´ ë§ˆì»¤ë¥¼ ë“±ë¡í•˜ê³  í‘œì‹œí•´ì¤ë‹ˆë‹¤
                        if (temp_radius <= radius) {
                            var latlongPosition = {
                                title: latlongdata[i].adress,
                                latlng: new kakao.maps.LatLng(latlongdata[i].lat, latlongdata[i].long)
                            };

                            // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                            var marker = new kakao.maps.Marker({
                                map: map, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ì§€ë„
                                position: latlongPosition.latlng, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ìœ„ì¹˜.
                                title: latlongPosition.title, // ë§ˆì»¤ì˜ íƒ€ì´í‹€, ë§ˆì»¤ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ íƒ€ì´í‹€ì´ í‘œì‹œë©ë‹ˆë‹¤
                                image: markerImage // ë§ˆì»¤ ì´ë¯¸ì§€ 
                            });

                            cctvMarkers.push(marker)

                            // ë§ˆì»¤ì— í‘œì‹œí•  ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ 
                            var infowindow = new kakao.maps.InfoWindow({
                                content: latlongPosition.title // ì¸í¬ìœˆë„ìš°ì— í‘œì‹œí•  ë‚´ìš©
                            });

                            // ë§ˆì»¤ì— mouseover ì´ë²¤íŠ¸ì™€ mouseout ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
                            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œëŠ” í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ë“±ë¡í•©ë‹ˆë‹¤ 
                            // forë¬¸ì—ì„œ í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ì£¼ì§€ ì•Šìœ¼ë©´ ë§ˆì§€ë§‰ ë§ˆì»¤ì—ë§Œ ì´ë²¤íŠ¸ê°€ ë“±ë¡ë©ë‹ˆë‹¤
                            kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
                            kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));

                        } else {
                            continue
                        }
                    }
                }
            });


            // ì§€ë„ì— í‘œì‹œë˜ì–´ ìˆëŠ” ëª¨ë“  ì›ê³¼ ë°˜ê²½ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ì„ , ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ì§€ë„ì—ì„œ ì œê±°í•©ë‹ˆë‹¤
            function removeCircles() {
                for (var i = 0; i < circles.length; i++) {
                    circles[i].circle.setMap(null);
                    circles[i].polyline.setMap(null);
                    circles[i].overlay.setMap(null);
                }
                circles = [];

                // ë§µ ì´ˆê¸°í™”
                // ì´ë²¤íŠ¸ ë‹¤ì‹œ ë“±ë¡í•´ì¤˜ì•¼ í•¨ ì´ëŸ°ë°©ì‹ìœ¼ë¡œ í•˜ë©´. ë³´ë¥˜
                // map = new kakao.maps.Map(mapContainer, mapOption);
            }

            // ë§ˆìš°ìŠ¤ ìš°í´ë¦­ í•˜ì—¬ ì› ê·¸ë¦¬ê¸°ê°€ ì¢…ë£Œëì„ ë•Œ í˜¸ì¶œí•˜ì—¬ 
            // ê·¸ë ¤ì§„ ì›ì˜ ë°˜ê²½ ì •ë³´ì„ ê³„ì‚°í•˜ì—¬
            // HTML Contentë¥¼ ë§Œë“¤ì–´ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
            function getTimeHTML(distance) {

                // ê±°ë¦¬ì™€ ë„ë³´ ì‹œê°„, ìì „ê±° ì‹œê°„ì„ ê°€ì§€ê³  HTML Contentë¥¼ ë§Œë“¤ì–´ ë¦¬í„´í•©ë‹ˆë‹¤
                var content = '<ul class="info">';
                content += '    <li>';
                content += '        <span class="label">ë°˜ê²½</span><span class="number">' + distance + '</span>m';
                content += '    </li>';
                content += '</ul>'

                return content;
            }

            var cctvFlag = 1
            function setCctvMarkers(map) {
                for (var i = 0; i < cctvMarkers.length; i++) {
                    cctvMarkers[i].setMap(map);
                }
            }
            function cctvButtonClick() {
                // 0ì€ êº¼ì§. 1ì€ ì¼œì§
                // ìƒíƒœë‹¤ê°’ì´ ë°”ë€Œë©´ì„œ ìŠ¤ìœ„ì¹˜ê°€ on off ë˜ëŠ”ì§€ ì‹ë³„í•œë‹¤.
                // ë°©ë§ˆ ìˆëŠ” ì „ë“±ìŠ¤ìœ„ì¹˜ë‘ ê°™ì€ ì›ë¦¬
                if (cctvFlag == 0) {
                    cctvFlag = 1
                    setCctvMarkers(map)
                } else {
                    cctvFlag = 0
                    setCctvMarkers(null)
                }
                console.log("cctvFlag:", cctvFlag)
            }

            var gs25Flag = 1
            function setGs25Markers(map) {
                //setCctvMarkers í•¨ìˆ˜ ì°¸ê³ í•˜ì…”ì„œ ì½”ë”©í•˜ì‹œë©´ ë©ë‹ˆë‹¤
                for (var i = 0; i < gs25markers.length; i++) {
                    gs25markers[i].setMap(map)
                }
            }

            function gs25ButtonClick() {
                // 0ì€ êº¼ì§. 1ì€ ì¼œì§
                // ìƒíƒœê°’ì´ ë°”ë€Œë©´ì„œ ìŠ¤ìœ„ì¹˜ê°€ on off ë˜ëŠ”ì§€ ì‹ë³„í•œë‹¤.
                // ë°©ë§ˆë‹¤ ìˆëŠ” ì „ë“±ìŠ¤ìœ„ì¹˜ë‘ ê°™ì€ ì›ë¦¬
                if (gs25Flag == 0) {
                    gs25Flag = 1
                    setGs25Markers(map)
                } else {
                    gs25Flag = 0
                    setGs25Markers(null)
                }
                console.log("gs25Flag:", gs25Flag)
            }

            var positions = [
                {
                    content: '<a href="https://www.gangseo.seoul.kr/gs0202022/view?sgstSn=pOp%5eDSRmZR84RNOQvS%5eCOQ%3d%3d&curPage=&srchKey=&srchText=&srchBeginDt=&srchEndDt=" target="_blank"><div class="minwon"><h4>ë¸”ë¡ê±°ìš¸ êµì²´ìš”ì²­</h4></div></a>', 
                    latlng: new kakao.maps.LatLng(37.5551476,126.8565132)
                },
                {
                    content: '<a href="https://www.gangseo.seoul.kr/gs0202022/view?sgstSn=oaWUfWrqnBl0Lc5uN4lv5w%3d%3d&curPage=&srchKey=&srchText=&srchBeginDt=&srchEndDt=" target="_blank"><div class="minwon"><h5>ë³´íƒ€ë‹‰ê³µì› ìì „ê±°ë„ë¡œ</h5></div></a>', 
                    latlng: new kakao.maps.LatLng(37.56640867731903,126.82996125798878)
                },
                {
                    content: '<a href="https://www.gangseo.seoul.kr/gs0202022/https://www.gangseo.seoul.kr/gs0202022/view?sgstSn=HNWxpURiSsMeUY6*TV2gtw%3d%3d&curPage=&srchKey=sj&srchText=%ea%b0%80%ec%96%91%ec%97%ad&srchBeginDt=&srchEndDt=" target="_blank"><div class="minwon"><h4>ì „ë´‡ëŒ€ í›„ì‚¬ê²½ ì„¤ì¹˜</h4></div></a>', 
                    latlng: new kakao.maps.LatLng(37.5422079,126.8319372)
                },
                {
                    content: '<a href="https://www.gangseo.seoul.kr/gs0202022/view?sgstSn=oV1n9pRlJwi*dcxWQaZsnw%3d%3d&curPage=&srchKey=&srchText=&srchBeginDt=&srchEndDt=" target="_blank"><div class="minwon"><h4>ì „ê¸°ì°¨ ì¶©ì „ì†Œ ì„¤ì¹˜</h4></div></a>', 
                    latlng: new kakao.maps.LatLng(37.5791659,126.8142743)
                },
                {
                    content: '<a href="https://www.gangseo.seoul.kr/gs0202022/view?sgstSn=mhLNrmJriYf4DIu4wqN3YA%3d%3d&curPage=1&srchKey=&srchText=&srchBeginDt=&srchEndDt==" target="_blank"><div class="minwon"><h4>ì•„ì´ìŠ¤íŒ© ìˆ˜ê±°í•¨ ì„¤ì¹˜</h4></div></a>', 
                    latlng: new kakao.maps.LatLng(37.55089023566004,126.84914348507496)
                },    
                {
                    content: '<a href="https://eminwon.gangseo.seoul.kr/emwp/gov/mogaha/ntis/web/emwp/cns/action/EmwpCnslWebAction.do" target="_blank"><div class="minwon"><h4>ì£¼ì°¨êµ¬íšì„ </h4></div></a>', 
                    latlng: new kakao.maps.LatLng(37.5353141,126.8488164)
                },
                {
                    content: '<a href="https://eminwon.gangseo.seoul.kr/emwp/gov/mogaha/ntis/web/emwp/cns/action/EmwpCnslWebAction.do" target="_blank"><div class="minwon"><h4>ë°©í™”ë™ì²­ì†Œë…„ê³µë¶€ë°©</h4></div></a>', 
                    latlng: new kakao.maps.LatLng(37.5679976,126.8079649)
                },
            ];

            // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ ì´ë¯¸ì§€ ì£¼ì†Œì…ë‹ˆë‹¤
            var imageSrc_star = "./img/voice_icon.png"; 
                
                for (var i = 0; i < positions.length; i ++) {
                    
                    // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ ì´ë¯¸ì§€ í¬ê¸° ì…ë‹ˆë‹¤
                    var imageSize_star = new kakao.maps.Size(24, 35); 
                    
                    // ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤    
                    var markerImage_star = new kakao.maps.MarkerImage(imageSrc_star, imageSize_star); 
                    
                    // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    var marker_star = new kakao.maps.Marker({
                        map: map, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ì§€ë„
                        position: positions[i].latlng, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ìœ„ì¹˜
                        title : positions[i].title, // ë§ˆì»¤ì˜ íƒ€ì´í‹€, ë§ˆì»¤ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ íƒ€ì´í‹€ì´ í‘œì‹œë©ë‹ˆë‹¤
                        image : markerImage_star // ë§ˆì»¤ ì´ë¯¸ì§€ 
                    });
                // ë§ˆì»¤ì— í‘œì‹œí•  ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ 
                var infowindow_star = new kakao.maps.InfoWindow({
                    content: positions[i].content // ì¸í¬ìœˆë„ìš°ì— í‘œì‹œí•  ë‚´ìš©
                });

                // ë§ˆì»¤ì— mouseover ì´ë²¤íŠ¸ì™€ mouseout ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
                // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œëŠ” í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ë“±ë¡í•©ë‹ˆë‹¤ 
                // forë¬¸ì—ì„œ í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ì£¼ì§€ ì•Šìœ¼ë©´ ë§ˆì§€ë§‰ ë§ˆì»¤ì—ë§Œ ì´ë²¤íŠ¸ê°€ ë“±ë¡ë©ë‹ˆë‹¤
                kakao.maps.event.addListener(marker_star, 'mouseover', makeOverListener(map, marker_star, infowindow_star));
                kakao.maps.event.addListener(marker_star, 'click', makeOutListener(infowindow_star));
            }    

            // ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•˜ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
            function makeOverListener(map, marker_star, infowindow_star) {
                return function() {
                    infowindow_star.open(map, marker_star);
                };
            }

            // ì¸í¬ìœˆë„ìš°ë¥¼ ë‹«ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
            function makeOutListener(infowindow_star) {
                return function() {
                    infowindow_star.close();
                };
            }

            var locations = [
                {
                    content: '<a href="https://www.epeople.go.kr/api/thk/conversational/selectConversationalDetail.npaid?ideaRegNo=1AE-2108-0000719" target="_blank"><div class="minwon"><h4>ì¥ë°”êµ¬ë‹ˆ ë¬´ë£ŒëŒ€ì—¬</h4></div></a>', 
                    latlng: new kakao.maps.LatLng(37.55113230058484,126.84820371331566)
                },
            ];

            // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ ì´ë¯¸ì§€ ì£¼ì†Œì…ë‹ˆë‹¤
            var imageSrc_notice = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png"; 
                
                for (var i = 0; i < locations.length; i ++) {
                    
                    // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ ì´ë¯¸ì§€ í¬ê¸° ì…ë‹ˆë‹¤
                    var imageSize_notice = new kakao.maps.Size(24, 35); 
                    
                    // ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤    
                    var markerImage_notice = new kakao.maps.MarkerImage(imageSrc_notice, imageSize_notice); 
                    
                    // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    var marker_notice = new kakao.maps.Marker({
                        map: map, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ì§€ë„
                        position: locations[i].latlng, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ìœ„ì¹˜
                        title : locations[i].title, // ë§ˆì»¤ì˜ íƒ€ì´í‹€, ë§ˆì»¤ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ íƒ€ì´í‹€ì´ í‘œì‹œë©ë‹ˆë‹¤
                        image : markerImage_notice // ë§ˆì»¤ ì´ë¯¸ì§€ 
                    });
                // ë§ˆì»¤ì— í‘œì‹œí•  ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ 
                var infowindow_notice = new kakao.maps.InfoWindow({
                    content: locations[i].content // ì¸í¬ìœˆë„ìš°ì— í‘œì‹œí•  ë‚´ìš©
                });

                // ë§ˆì»¤ì— mouseover ì´ë²¤íŠ¸ì™€ mouseout ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
                // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œëŠ” í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ë“±ë¡í•©ë‹ˆë‹¤ 
                // forë¬¸ì—ì„œ í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ì£¼ì§€ ì•Šìœ¼ë©´ ë§ˆì§€ë§‰ ë§ˆì»¤ì—ë§Œ ì´ë²¤íŠ¸ê°€ ë“±ë¡ë©ë‹ˆë‹¤
                kakao.maps.event.addListener(marker_notice, 'mouseover', makeOverListener(map, marker_notice, infowindow_notice));
                kakao.maps.event.addListener(marker_notice, 'click', makeOutListener(infowindow_notice));
            }    

            // ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•˜ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
            function makeOverListener(map, marker_notice, infowindow_notice) {
                return function() {
                    infowindow_notice.open(map, marker_notice);
                };
            }

            // ì¸í¬ìœˆë„ìš°ë¥¼ ë‹«ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
            function makeOutListener(infowindow_notice) {
                return function() {
                    infowindow_notice.close();
                };
            }    

            var voices = [
                {
                    content: '<a href="https://www.gangseo.seoul.kr/gs020209/279868?srchCtgry=&curPage=&srchKey=&srchText=&srchBeginDt=&srchEndDt=" target="_blank"><div class="minwon"><h4>ê¸´ê¸‰ëŒë´„íŒ€ ì¹­ì°¬</h4></div></a>', 
                    latlng: new kakao.maps.LatLng(37.55098618008356,126.850195740258)
                },
            ];

            // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ ì´ë¯¸ì§€ ì£¼ì†Œì…ë‹ˆë‹¤
            var imageSrc_thumb = "./img/favorite_icon.png"; 
                
                for (var i = 0; i < voices.length; i ++) {
                    
                    // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ ì´ë¯¸ì§€ í¬ê¸° ì…ë‹ˆë‹¤
                    var imageSize_thumb = new kakao.maps.Size(24, 35); 
                    
                    // ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤    
                    var markerImage_thumb = new kakao.maps.MarkerImage(imageSrc_thumb, imageSize_thumb); 
                    
                    // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    var marker_thumb = new kakao.maps.Marker({
                        map: map, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ì§€ë„
                        position: voices[i].latlng, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ìœ„ì¹˜
                        title : voices[i].title, // ë§ˆì»¤ì˜ íƒ€ì´í‹€, ë§ˆì»¤ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ íƒ€ì´í‹€ì´ í‘œì‹œë©ë‹ˆë‹¤
                        image : markerImage_thumb // ë§ˆì»¤ ì´ë¯¸ì§€ 
                    });
                // ë§ˆì»¤ì— í‘œì‹œí•  ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ 
                var infowindow_thumb = new kakao.maps.InfoWindow({
                    content: voices[i].content // ì¸í¬ìœˆë„ìš°ì— í‘œì‹œí•  ë‚´ìš©
                });

                // ë§ˆì»¤ì— mouseover ì´ë²¤íŠ¸ì™€ mouseout ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
                // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œëŠ” í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ë“±ë¡í•©ë‹ˆë‹¤ 
                // forë¬¸ì—ì„œ í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ì£¼ì§€ ì•Šìœ¼ë©´ ë§ˆì§€ë§‰ ë§ˆì»¤ì—ë§Œ ì´ë²¤íŠ¸ê°€ ë“±ë¡ë©ë‹ˆë‹¤
                kakao.maps.event.addListener(marker_thumb, 'mouseover', makeOverListener(map, marker_thumb, infowindow_thumb));
                kakao.maps.event.addListener(marker_thumb, 'click', makeOutListener(infowindow_thumb));
            }    

            // ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•˜ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
            function makeOverListener(map, marker_thumb, infowindow_thumb) {
                return function() {
                    infowindow_thumb.open(map, marker_thumb);
                };
            }

            // ì¸í¬ìœˆë„ìš°ë¥¼ ë‹«ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
            function makeOutListener(infowindow_thumb) {
                return function() {
                    infowindow_thumb.close();
                };
            }    

            var voices = [
                {
                    content: '<a href="https://www.gangseo.seoul.kr/mypage/appdetails" target="_blank"><div class="minwon"><h4>ê³µì› ë’·í¸ CCTV ì„¤ì¹˜ìš”ì²­</h4></div></a>', 
                    latlng: new kakao.maps.LatLng(37.5495157038784,126.8487445221458)
                },
            ];

            // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ ì´ë¯¸ì§€ ì£¼ì†Œì…ë‹ˆë‹¤
            var imageSrc_voice = "./img/my.png"; 
                
                for (var i = 0; i < voices.length; i ++) {
                    
                    // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ ì´ë¯¸ì§€ í¬ê¸° ì…ë‹ˆë‹¤
                    var imageSize_voice = new kakao.maps.Size(24, 35); 
                    
                    // ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤    
                    var markerImage_voice = new kakao.maps.MarkerImage(imageSrc_voice, imageSize_voice); 
                    
                    // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    var marker_voice = new kakao.maps.Marker({
                        map: map, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ì§€ë„
                        position: voices[i].latlng, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ìœ„ì¹˜
                        title : voices[i].title, // ë§ˆì»¤ì˜ íƒ€ì´í‹€, ë§ˆì»¤ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ íƒ€ì´í‹€ì´ í‘œì‹œë©ë‹ˆë‹¤
                        image : markerImage_voice // ë§ˆì»¤ ì´ë¯¸ì§€ 
                    });
                // ë§ˆì»¤ì— í‘œì‹œí•  ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ 
                var infowindow_voice = new kakao.maps.InfoWindow({
                    content: voices[i].content // ì¸í¬ìœˆë„ìš°ì— í‘œì‹œí•  ë‚´ìš©
                });

                // ë§ˆì»¤ì— mouseover ì´ë²¤íŠ¸ì™€ mouseout ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
                // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œëŠ” í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ë“±ë¡í•©ë‹ˆë‹¤ 
                // forë¬¸ì—ì„œ í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ì£¼ì§€ ì•Šìœ¼ë©´ ë§ˆì§€ë§‰ ë§ˆì»¤ì—ë§Œ ì´ë²¤íŠ¸ê°€ ë“±ë¡ë©ë‹ˆë‹¤
                kakao.maps.event.addListener(marker_voice, 'mouseover', makeOverListener(map, marker_voice, infowindow_voice));
                kakao.maps.event.addListener(marker_voice, 'click', makeOutListener(infowindow_voice));
            }    

            // ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•˜ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
            function makeOverListener(map, marker_voice, infowindow_voice) {
                return function() {
                    infowindow_voice.open(map, marker_voice);
                };
            }

            // ì¸í¬ìœˆë„ìš°ë¥¼ ë‹«ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤ 
            function makeOutListener(infowindow_voice) {
                return function() {
                    infowindow_voice.close();
                };
            }    


        </script>

    </div>

    <h3 class="info_text">
        ì§€ì •ë²”ìœ„ ë‚´ ì •ë³´í‘œì‹œ : ğŸ‘¨â€ğŸ« ê¶ê¸ˆí•œ ìœ„ì¹˜ ë§ˆìš°ìŠ¤ í´ë¦­ â†’ ğŸ‘©â€ğŸ« ì›í•˜ëŠ” ì§€ì  ì´ë™ í›„ ë§ˆìš°ìŠ¤ ìš°í´ë¦­</h3>
    <h3 class="info_text">
        ğŸ” ë¡œë“œë·° - ìš°ì¸¡ ìƒë‹¨ í´ë¦­ | ğŸ¤” ë§ˆì»¤ì§€ìš°ê¸° : ìƒˆë¡œê³ ì¹¨(F5) | ğŸ”Š ë§ˆì»¤ ìœ„ ì»¤ì„œëŒ€ê³  í´ë¦­ (ì œì•ˆê²Œì‹œíŒ ì´ë™)
    </h3>
  
</body>

</html> 